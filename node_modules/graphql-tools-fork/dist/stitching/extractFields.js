Object.defineProperty(exports, "__esModule", { value: true });
var utils_1 = require("../utils");
function extractFields(_a) {
    var fieldNode = _a.fieldNode, _b = _a.path, path = _b === void 0 ? [] : _b, _c = _a.fragments, fragments = _c === void 0 ? {} : _c;
    var fieldNodes = utils_1.collectFields(fieldNode.selectionSet, fragments);
    return path.length ? path.reduce(function (acc, pathSegment) { return extractOneLevelOfFields(acc, pathSegment, fragments); }, fieldNodes) : fieldNodes;
}
exports.extractFields = extractFields;
function extractOneLevelOfFields(fieldNodes, fieldName, fragments) {
    var newFieldNodes = [];
    fieldNodes.forEach(function (fieldNode) {
        utils_1.collectFields(fieldNode.selectionSet, fragments).forEach(function (selection) {
            if (selection.name.value === fieldName) {
                newFieldNodes.push(selection);
            }
        });
    });
    return newFieldNodes;
}
exports.extractOneLevelOfFields = extractOneLevelOfFields;
//# sourceMappingURL=extractFields.js.map